!function(e){function t(n){if(s[n])return s[n].exports;var o=s[n]={exports:{},id:n,loaded:!1};return e[n].call(o.exports,o,o.exports,t),o.loaded=!0,o.exports}var s={};t.m=e,t.c=s,t.p="",t(0)}([function(e,t,s){const{gen_id:n,session:o,clear_input:i,user_on_exists:r,to_scroll:a,get_user:l,get_horario:c}=s(1),u=(s(2),s(4)),m=(s(10),s(5)),d=s(3),g=(s(12)(socket),s(6)),p=new(s(9))(socket);p.use(g),p.run(["new login","new emit message","new clear","new escrevendo","logout"]),o("status")||(location.href="./"),m.set("strip tags",u.bot_strip_tags),m.set("embed youtube",u.bot_youtube),m.set("url",u.bot_url),m.set("anti spam",u.bot_spam),d(".emit-message").addEventListener("keypress",e=>{var t=`[write-id="${l().id}"]`,s=d(".emit-message").value;s.length<2&&socket.emit("clear",t),s.length>2&&socket.emit("escrevendo",Object.assign({},l(),{text:l().nome+" está escrevendo.",horario:c(),node:t})),13===e.keyCode&&s.length>3&&s.length<250&&(socket.emit("clear",t),""!==(s=m.run(s))&&(console.log(s),socket.emit("emit message",Object.assign({},l(),{text:s,horario:c()})),i()))}),d(".logout").addEventListener("click",()=>{var e=e=>sessionStorage.removeItem(e);socket.emit("desconectou",l()),e("icone"),e("nome"),e("id"),e("status"),e("my_id"),setTimeout(()=>location.href="./",500)})},function(e,t){const s=(e,t=null)=>{if(null===t)return sessionStorage.getItem(e)?sessionStorage.getItem(e):null;null!==t&&(sessionStorage.getItem(e)||sessionStorage.setItem(e,t))};e.exports={gen_id:()=>Math.floor(1e3*Math.random())+Math.floor(1e3*Math.random()),session:s,clear_input:()=>$(".emit-message").value="",user_on_exists:e=>!!$(`.peoples-timeline>div[id="${e.id}"]`),to_scroll:()=>{var e=$(".messages");e.scrollTop=e.scrollHeight},get_user:()=>({id:s("id"),nome:s("nome"),icon:s("icone"),status:s("status")}),get_horario:()=>{var e=new Date,t=e=>e<10?"0"+e:e,[s,n,o]=[t(e.getHours()),t(e.getMinutes()),t(e.getSeconds())];return s+":"+n+":"+o},html_element:function(e){var t=document.createElement("div");return t.innerHTML=e,t.firstChild}}},function(e,t){e.exports=(()=>({login:e=>`\n\t            <div class="people" id="${e.id}">\n\t              <span class="status-active"></span>\n\t              <p class="name">${e.nome}</p>\n\t              <img src="${e.icon}" alt="" class="my-icon">\n\t            </div>\n\t      `,ons:e=>`<span class="users-on spanabble">${e.ons}</span>`,message:e=>{var t=document.createElement("div");t.setAttribute("id",e.id),t.setAttribute("data-user",JSON.stringify(e)),t.setAttribute("class","message");var s=`\n\t              <div class="user">\n\t                <img src="${e.icon}" alt="">\n\t                <p class="name-user">${e.nome}</p>\n\t              </div>\n\t              <div class="body">\n\t                <div class="text">${e.text}</div>\n\t                <div class="time">${e.horario}</div>\n\t              </div>\n\t          `;return t.innerHTML=s,t},logout:e=>{var t=document.createElement("div");t.setAttribute("id",e.id),t.setAttribute("class","message");var s=`\n\t              <div class="user">\n\t                <img src="${e.icon}" alt="">\n\t                <p class="name-user">${e.nome}</p>\n\t              </div>\n\t              <div class="body">\n\t                <div class="text">${e.nome} saiu da sala.</div>\n\t                <div class="time">${e.horario}</div>\n\t              </div>\n\t          `;return t.innerHTML=s,t},message_write:e=>{var t=document.createElement("div");t.setAttribute("write-id",e.id),t.setAttribute("class","message");var s=`\n\t                <div class="user">\n\t                  <img src="${e.icon}" alt="">\n\t                  <p class="name-user">${e.nome}</p>\n\t                </div>\n\t                <div class="body">\n\t                  <div class="text">${e.text}</div>\n\t                  <div class="time">${e.horario}</div>\n\t                </div>\n\t          `;return t.innerHTML=s,t}}))},function(e,t){e.exports=document.querySelector.bind(document)},function(e,t,s){const{gen_id:n,session:o,clear_input:i,user_on_exists:r,to_scroll:a,get_user:l,get_horario:c}=s(1),u=(s(2),e=>(u.buffer||(u.buffer=""),e===u.buffer||(u.buffer=e,!1))),m=e=>/^(?:(?:(?:https?|ftp):)?\/\/)(?:\S+(?::\S*)?@)?(?:(?!(?:10|127)(?:\.\d{1,3}){3})(?!(?:169\.254|192\.168)(?:\.\d{1,3}){2})(?!172\.(?:1[6-9]|2\d|3[0-1])(?:\.\d{1,3}){2})(?:[1-9]\d?|1\d\d|2[01]\d|22[0-3])(?:\.(?:1?\d{1,2}|2[0-4]\d|25[0-5])){2}(?:\.(?:[1-9]\d?|1\d\d|2[0-4]\d|25[0-4]))|(?:(?:[a-z\u00a1-\uffff0-9]-*)*[a-z\u00a1-\uffff0-9]+)(?:\.(?:[a-z\u00a1-\uffff0-9]-*)*[a-z\u00a1-\uffff0-9]+)*(?:\.(?:[a-z\u00a1-\uffff]{2,})))(?::\d{2,5})?(?:[/?#]\S*)?$/i.test(e);e.exports={bot_url:e=>{var t="";return e.split(" ").map(e=>t+=(e=>{if(m(e)){var t=document.createElement("a");t.href=e;var s=t.hostname.split("."),n="www"===s[0]?s[1]:s[0];e=`\n\t\t\t\t<a href="${e}" style="background:${(e=>{const t={google:"#0057e7",youtube:"#cc181e",facebook:"#3b5998",github:"#333",default:"#3498db"};return t[e]?t[e]:t.default})(n)}" class="btn-link" target="__blank">\n\t\t\t\t\t${n}\n\t\t\t\t</a>\n\t  \t\t`}return e.trim()})(e)+" "),t.trim()},bot_spam:(e,t="Bot Spam Filter")=>u(e)?(i(),$(".emit-message").setAttribute("placeholder",`Sem spam ${l().nome}`),""):e.trim(),bot_remove:e=>{var t=setInterval(()=>{$(e)&&($(e).parentNode.removeChild($(e)),clearInterval(t))},100)},bot_strip_tags:(e,t="Bot Strip Tags Filter")=>(e=>{var t=document.createElement("div");return t.innerHTML=e,t.textContent.trim()})(e).trim(),bot_youtube:e=>{var t="";return e.split(" ").map(e=>t+=(e=>{var t=(e=>{var t="https://youtu.be/",s="youtube.com/watch?v=";return e.includes(t)?t:!!e.includes(s)&&s})(e);return m(e)&&t&&(e=`\n\t\t\t\t<iframe width="350" height="315" style="margin-top:15px" src="https://www.youtube.com/embed/${e.split(t).pop()}" \n\t\t\t\tframeborder="0" gesture="media" allow="encrypted-media" allowfullscreen></iframe>\n\t\t\t`),e.trim()})(e)+" "),t.trim()}}},function(e,t){e.exports=(()=>{return new class{constructor(){return this.filters=new Map,this}set(e,t){this.filters.set(e,t)}get_filters(){return this.filters.getAll()}run(e){return e=e.trim(),e=this.get_filters().reduce((e,t)=>t(e),e)}}})()},function(e,t,s){e.exports=[s(8),s(7)]},function(e,t,s){const{gen_id:n,session:o,clear_input:i,user_on_exists:r,to_scroll:a,get_user:l,get_horario:c}=s(1),u=(s(2),{"hello init":e=>`Olá ${e.nome} seja bem vindo ao chat, meu nome é Junior e estou aqui sempre que Precisar!!`,"voce ta bem?":e=>`To sim e você ${e.nome}?`,"oi junior":e=>`Oie ${e.nome}, tudo bem com você?`}),m=(e,t)=>(e.text=u[t](e),e.nome="Junior Bot",e.icon="https://upload.wikimedia.org/wikipedia/commons/thumb/c/c3/Logo_wikibot.svg/1024px-Logo_wikibot.svg.png",e.is_bot=!0,e.horario=c(),e),d={events:["new emit message","new login"],call:(e,t,s)=>{console.log(e);var n=t.text.trim().toLowerCase();u[n]&&!t.is_bot&&"new emit message"===e&&(t=m(t,n),s.emit("emit message",t)),t.is_bot||"new login"!==e||(t=m(t,"hello init"),s.emit("emit message",t))}};e.exports=d},function(e,t,s){const{gen_id:n,session:o,clear_input:i,user_on_exists:r,to_scroll:a,get_user:l,get_horario:c}=s(1),u=s(2),m={events:["new emit message","new escrevendo"],call:(e,t,s)=>{chat.messages_receive_user.map(e=>{r(e)||(chat.peoples++,$(".peoples-timeline").innerHTML+=u().login(e),$(".users-on").innerHTML=chat.peoples)})}};e.exports=m},function(e,t){e.exports=class{constructor(e){this.server=e,this.config()}use(e){var t=this;Array.isArray(e)?e.map(e=>{t.config.bots.includes(e)||t.config.bots.push(e)}):this.config.bots.includes(e)||this.config.bots.push(e)}config(e){this.config.bots=[]}on_event(e,t){console.log(e);var s=this;this.config.bots.map(n=>{n.events.includes(e)&&n.call(e,t,s.server)})}run(e){var t=this;e.map(e=>t.server.on(e,s=>{t.on_event(e,s)}))}}},function(e,t){e.exports=void(Map.prototype.getAll=function(){var e=[];for(var[t,s]of this)e.push(s);return e})},,function(e,t,s){const{gen_id:n,session:o,clear_input:i,user_on_exists:r,to_scroll:a,get_user:l,get_horario:c,html_element:u}=s(1),m=s(2),d=s(4).bot_remove;e.exports=(e=>{e.emit("login",l()),e.on("new login",e=>{chat.messages++,r(e)||chat.peoples++;let t=Object.assign(e,{text:e.nome+" entrou na sala.",horario:c()});o("my_id",e.my_id),chat.messages_receive_user.includes(e.nome)||chat.messages_receive_user.push(e),$(".messages").appendChild(m().message(t)),r(e)||($(".peoples-timeline").innerHTML+=m().login(t)),$(".messages-number").innerHTML=chat.messages,$(".users-on").innerHTML=chat.peoples,a()}),e.on("new emit message",e=>{chat.messages++,chat.messages_receive_user.includes(e.nome)||chat.messages_receive_user.push(e),$(".messages").appendChild(m().message(e)),$(".messages-number").innerHTML=chat.messages,a(),i()}),e.on("new clear",e=>{d(e)}),e.on("new escrevendo",e=>{$(e.node)||($(".messages").appendChild(m().message_write(e)),a())}),e.on("logout",e=>{$(".messages").appendChild(m().logout(Object.assign({},e,{horario:c()}))),d(`.peoples-timeline>div[id="${e.id}"]`)})})}]);